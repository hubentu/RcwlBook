--- 
title: "Bioinformatics tools and pipelines using R and CWL"
author: 
- "Qiang Hu"
- "Song Liu"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: rstudio/bookdown-demo
description: "A manual to wrap Bioinformatics tools and pipelines with Common Workflow Language using the Rcwl package."
---

# Preface {-}

This short book introduces the R packages, **Rcwl** and **RcwlPipelines**, to improve the way of building, managing and running Bioinformatics tools and workflows. 

The **Rcwl** package is built on top of the Common Workflow Language (CWL), and provides a simple and user-friendly way to wrap command line tools into data analysis workflows in R. The **RcwlPipelines** package is a collection of Bioinformatics tools and workflows based on **Rcwl**.

## R package installation

The **Rcwl** and **RcwlPipelines** packages can be installed from Bioconductor or Github:

```{r eval=FALSE}
BiocManager::install(c("Rcwl", "RcwlPipelines"))
# or the development version
BiocManager::install(c("hubentu/Rcwl", "hubentu/RcwlPipelines"))
```

To load the packages into R session:
```{r}
library(Rcwl)
library(RcwlPipelines)
```

## System requirements

Besides the depedencies of the R packages, the following tools are required to be installed to run the examples in this book.

* python (>= 2.7)
* cwltool (>= 1.0.2018)
* nodejs

The **cwltool** is the reference implementation of the Common Workflow Language, which is used to run the CWL scripts. The **nodejs** is required when the CWL scripts used JavaScript. Here you can find instruction to install these tools.

* <https://github.com/common-workflow-language/cwltool#install>
* <https://nodejs.org>

## Docker

The Docker containers simplify software installation and management. Especially for bioinformatics tools, such toolos often require different runtime environments and library dependcies. For the build workflow, the software required for the installation itself is a big challenge. A CWL runner can perform this work automatically by pulling the Docker containers and mounting the paths of input files. 

However, the Docker requirements are optional. CWL scripts can also be run locally with all the dependencies installed.

## Structure of the book

* Introduction
* Components
* Build CWL workflows
* Run approaches
* Case study

## R session information

The R session information when compiling this mannual is shown below:

```{r}
sessionInfo()
```
